<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Discover Kasaragod's Culture</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/css/splide.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
    <!-- Leaflet Routing Machine CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet-routing-machine/dist/leaflet-routing-machine.css" />
    <link rel="stylesheet" href="css/navbar.css">
</head>
<body>

<nav>
    <div class="nav-left">
        <button class="menu-toggle">
            <i class="fas fa-bars"></i>
        </button>
        <div class="nav-links">
            <a href="index.html" class="active">Home</a>
            <a href="cuisine.html">Cuisine</a>
            <a href="experience.html">Experiences</a>
            <a href="events.html">Events</a>
            <a href="house.html">Houseboats</a>
            <a href="arts-artisans.html">Art & Artisans</a>
            <a href="made-in-kasaragod.html">Made in Kasaragod</a>
        </div>
    </div>
    <div class="search-wrapper">
        <input type="text" id="searchInput" placeholder="Search...">
        <i class="fas fa-search search-icon"></i>
        <div class="search-suggestions"></div>
    </div>
</nav>

<div class="hero-container">
    <div class="hero-content">
        <a href="#art">
            <h1>
                <span class="title-top">what next?</span>
                <span class="title-main">Kasaragod.</span>
                <span class="title-arrow">&darr;</span>
            </h1>
        </a>
    </div>
    <section class="hero">
        <div class="splide" id="main-slider">
            <div class="splide__track">
                <ul class="splide__list">
                    <li class="splide__slide">
                        <a href="bekal.html">
                            <img src="images/theyyam.webp" alt="Bekal Fort">
                        </a>
                    </li>
                    <li class="splide__slide">
                        <img src="images/ksddd.jpg" alt="Anantapura Lake Temple">
                    </li>
                    <li class="splide__slide">
                        <img src="images/sur.jpg" alt="ASAP">
                    </li>
                    <li class="splide__slide">
                        <img src="images/handloom.jpg" alt="Bekal Fort">
                    </li>
                    <li class="splide__slide">
                        <img src="images/kasarg.webp" alt="Heritage Image">
                    </li>
                    <li class="splide__slide">
                        <img src="images/chandragiri.jpg" alt="Kasaragod Heritage">
                    </li>
                    <li class="splide__slide">
                        <img src="images/Theyyam.jpg" alt="Theyyam Performance">
                    </li>
                </ul>
            </div>
        </div>
    </section>
</div>

<section class="section" id="art">
    <h2>Cultural Heritage</h2>
    <p>Explore the rich cultural heritage of Kasaragod</p>
    
    <div class="filter-container">
        <button class="filter-btn active" data-filter="all">All</button>
        <button class="filter-btn" data-filter="temple">sanctuary</button>
        <button class="filter-btn" data-filter="fort">Forts</button>
        <button class="filter-btn" data-filter="culture">Culture</button>
        <button class="filter-btn" data-filter="nature">Nature</button>
        <button class="filter-btn" data-filter="textiles">Textiles</button>
    </div>

    <div class="cards">
        <div class="featured-card card" data-category="textiles">
            <div class="product-badge featured-badge">Featured</div>
            <img src="images/saree.jpg" alt="Traditional Kasaragod Sarees">
            <div class="card-content">
                <h3>Traditional Kasaragod Sarees</h3>
                <div class="rating">
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                </div>
                <p>Handwoven silk sarees with intricate designs reflecting cultural heritage.</p>
            </div>
            <div class="card-buttons">
                <a href="javascript:void(0)" class="order-btn" onclick="showOrderForm('Traditional Kasaragod Sarees')">
                    <i class="fas fa-shopping-cart"></i> Order Now
                </a>
                <button class="location-btn" onclick="showStores('Traditional Kasaragod Sarees')">
                    <i class="fas fa-map-marker-alt"></i> Find Stores
                </button>
            </div>
        </div>

        <div class="card" data-category="all">
            <img src="images/Asap.jpg" alt="ASAP">
            <div class="card-content">
                <h3>ASAP Community Skill Park</h3>
                <p>A center for skill development and vocational training in Kasaragod.</p>
            </div>
            <div class="card-buttons">
                <button onclick="showOnMap(12.5182, 75.0141, 'ASAP Community Skill Park')">Show on Map</button>
                <a href="https://wa.me/9447326319">Contact on WhatsApp</a>
            </div>
        </div>

        <div class="card" data-category="temple">
            <img src="images/Anantapura_Lake_Temple.jpg" alt="Anantapura Lake Temple">
            <div class="card-content">
                <h3>Anantapura Lake Temple</h3>
                <p>Ancient lake temple known for its unique architecture and peaceful surroundings.</p>
            </div>
            <div class="card-buttons">
                <button onclick="showOnMap(12.5182, 75.0141, 'Anantapura Lake Temple')">Show on Map</button>
                <a href="anantapura.html">Show more details</a>
            </div>
        </div>

        <div class="card" data-category="All">
            <img src="images/houseb.jpeg" alt="Nileshwar HouseBoat">
            <div class="card-content">
                <h3>Nileshwar HouseBoats</h3>
                <p>Enjoy the nature with nileshwar houseboat.</p>
            </div>
            <div class="card-buttons">
                <button onclick="location.href='house.html'">Book your houseboat Trip</button>
                <a href="https://wa.me/9846913111">Contact on WhatsApp</a>
            </div>
        </div>

        <div class="card" data-category="fort">
            <img src="images/bekalfort front.jpg" alt="Bekal Fort">
            <div class="card-content">
                <h3>Bekal Fort</h3>
                <p>The largest and best-preserved fort in Kerala, offering stunning views of the Arabian Sea.</p>
            </div>
            <div class="card-buttons">
                <button onclick="showOnMap(12.3917, 75.0328, 'Bekal Fort')">Show on Map</button>
                <a href="https://wa.me/+91 4672 950 500">Contact on WhatsApp</a>
            </div>
        </div>

        <div class="card" data-category="culture">
            <img src="images/yaks.jpg" alt="Yakshagana">
            <div class="card-content">
                <h3>Yakshagana</h3>
                <p>A traditional dance drama form that combines dance, music, and dialogue.</p>
            </div>
            <div class="card-buttons">
                <button onclick="showOnMap(12.5063, 75.0014, 'Yakshagana')">Show on Map</button>
                <a href="https://wa.me/9447326319">Contact on WhatsApp</a>
            </div>
        </div>
           
        <div class="card" data-category="sanctuary">
            <img src="images/bela.jpeg" alt="Bela">
            <div class="card-content">
                <h3>Bela Church</h3>
                <p>Bela Church, also known as Our Lady of Sorrows Church, is a Roman Catholic church in Kasaragod, Kerala, known for being the oldest church in the district, built in 1890 in a Gothic Revival style</p>
            </div>
            <div class="card-buttons">
                <button onclick="showOnMap(12.5870, 75.0224, 'Bela church')">Show on Map</button>
                <a href="https://wa.me/098952 13576">Contact on WhatsApp</a>
            </div>
        </div>

        <div class="card" data-category="nature">
            <img src="images/kareems forest park.jpg" alt="forest park">
            <div class="card-content">
                <h3>Kareem's forest park</h3>
                <p>Kareem's Forest Park is a remarkable man-made forest located in Puliyamkulam, near Parappa, approximately 23 kilometers east of Kanhangad town in Kerala's Kasaragod district.</p>
            </div>
            <div class="card-buttons">
                <button onclick="showOnMap(12.5076, 74.9882, 'kareems Forest Park')">Show on Map</button>
                <a href="https://wa.me/9447326319">Contact on WhatsApp</a>
            </div>
        </div>

        <div class="card" data-category="nature">
            <img src="images/suranga.jpg" alt="Suranga">
            <div class="card-content">
                <h3>Suranga </h3>
                <p>Popularly known as Suranga or Thurangam, these artificial tunnel wells are carved in the slopes of laterite hills so that people can walk towards the water source</p>
            </div>
            <div class="card-buttons">
                <button onclick="showOnMap(12.5076, 74.9882, 'Suranga')">Show on Map</button>
                <a href="Suranga.html">Show more details</a>
            </div>
        </div>

        <div class="card" data-category="temple">
            <img src="images/kodothtemp.jpg" alt="Kodoth bhagavathi temple">
            <div class="card-content">
                <h3>Kodoth bhagavathi temple </h3>
                <p>This is a temple dedicated to Goddess Bhagavathy, and is located in the village of Kodom in Kasaragod. Rich in architectural beauty, the major attractions of this temple are the wood paintings and the temple pond. The village of Kodom itself is located 24 kms from Kanhangad in Kasaragod, Kerala.
                </p>
            </div>
            <div class="card-buttons">
                <button onclick="showOnMap(12.41544, 75.1906, 'Kodoth bhagavathi temple')">Show on Map</button>
                <a href="Suranga.html">Show more details</a>
            </div>
        </div>    

    </div>
</section>

<section class="map-section">
    <div class="map-container">
        <h2>Find Cultural Locations</h2>
        <div id="map"></div>
        <div id="location-info"></div>
    </div>
</section>

<footer>
    <p>© 2024 Cultural Heritage Platform. Built for Kasaragod.</p>
</footer>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/js/splide.min.js"></script>
<script src="js/script.js"></script>
<script src="https://unpkg.com/leaflet-routing-machine/dist/leaflet-routing-machine.js"></script>
<script>
    const map = L.map('map').setView([12.4280 , 75.3616], 10);

    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
    }).addTo(map);

    const bekalFort = [12.4280, 75.3616];

    L.marker(bekalFort).addTo(map)
        .bindPopup("Bekal Fort")
        .openPopup();

    function getUserLocation() {
        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(function(position) {
                const latitude = position.coords.latitude;
                const longitude = position.coords.longitude;

                const userLocation = [latitude, longitude];
                L.marker(userLocation).addTo(map)
                    .bindPopup("You are here!")
                    .openPopup();

                map.setView(userLocation, 13);
                document.getElementById('location-info').innerHTML = `
                    Latitude: ${latitude}<br>
                    Longitude: ${longitude}
                `;
                calculateDistance(userLocation, bekalFort);
                showDirections(userLocation, bekalFort);

            }, function(error) {
                alert("Error getting location: " + error.message);
            });
        } else {
            alert("Geolocation is not supported by this browser.");
        }
    }

    function calculateDistance(userLocation, destination) {
        const lat1 = userLocation[0];
        const lon1 = userLocation[1];
        const lat2 = destination[0];
        const lon2 = destination[1];

        const rad = Math.PI / 180;
        const dLat = (lat2 - lat1) * rad;
        const dLon = (lon2 - lon1) * rad;

        const a = Math.sin(dLat / 2) * Math.sin(dLat / 2) +
                  Math.cos(lat1 * rad) * Math.cos(lat2 * rad) *
                  Math.sin(dLon / 2) * Math.sin(dLon / 2);
        const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));

        const R = 6371;
        const distance = R * c;

        document.getElementById('location-info').innerHTML += `
            <br>Distance to Bekal Fort: ${distance.toFixed(2)} km
        `;
    }

    function showDirections(userLocation, destination) {
        L.Routing.control({
            waypoints: [
                L.latLng(userLocation[0], userLocation[1]),
                L.latLng(destination[0], destination[1])
            ],
            routeWhileDragging: true
        }).addTo(map);
    }

    getUserLocation();
</script>

<script>
    // Store location functionality
    function showStores(productName) {
        // This would typically show a modal or redirect to a map with store locations
        alert(`Showing stores for ${productName}. This feature will be implemented soon!`);
    }

    // Order form functionality
    function showOrderForm(productName) {
        // Check if the overlay exists, if not create it
        let overlay = document.querySelector('.order-form-overlay');
        if (!overlay) {
            overlay = document.createElement('div');
            overlay.className = 'order-form-overlay';
            document.body.appendChild(overlay);
            
            const container = document.createElement('div');
            container.className = 'order-form-container';
            overlay.appendChild(container);
        }
        
        const container = overlay.querySelector('.order-form-container');
        
        // Set the product information
        container.innerHTML = `
            <div class="order-form-header">
                <h2>Order ${productName}</h2>
                <button class="close-form"><i class="fas fa-times"></i></button>
            </div>
            <div class="order-form-body">
                <div class="product-preview">
                    <div class="product-image">
                        <img src="images/kasaragod-saree.jpg" alt="${productName}">
                    </div>
                    <div class="product-info">
                        <h3>${productName}</h3>
                        <p class="product-price">₹1,500 - ₹5,000</p>
                        <div class="rating">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <span>(25 reviews)</span>
                        </div>
                    </div>
                </div>
                
                <form id="orderForm">
                    <div class="form-group">
                        <label for="fullName">Full Name</label>
                        <input type="text" id="fullName" required>
                    </div>
                    <div class="form-group">
                        <label for="email">Email</label>
                        <input type="email" id="email" required>
                    </div>
                    <div class="form-group">
                        <label for="phone">Phone Number</label>
                        <input type="tel" id="phone" required>
                    </div>
                    <div class="form-group">
                        <label for="address">Delivery Address</label>
                        <textarea id="address" rows="3" required></textarea>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="quantity">Quantity</label>
                            <input type="number" id="quantity" min="1" value="1" required>
                        </div>
                        <div class="form-group">
                            <label for="variant">Variant</label>
                            <select id="variant" required>
                                <option value="red">Red with Gold Border</option>
                                <option value="blue">Blue with Silver Border</option>
                                <option value="green">Green with Gold Border</option>
                                <option value="purple">Purple with Silver Border</option>
                            </select>
                        </div>
                    </div>
                    <button type="submit" class="submit-order">Submit Order</button>
                </form>
            </div>
        `;
        
        // Display the overlay
        overlay.classList.add('active');
        
        // Add event listeners
        const closeButton = overlay.querySelector('.close-form');
        closeButton.addEventListener('click', () => {
            overlay.classList.add('fade-out');
            setTimeout(() => {
                overlay.classList.remove('active', 'fade-out');
            }, 300);
        });
        
        overlay.addEventListener('click', (e) => {
            if (e.target === overlay) {
                overlay.classList.add('fade-out');
                setTimeout(() => {
                    overlay.classList.remove('active', 'fade-out');
                }, 300);
            }
        });
        
        const orderForm = overlay.querySelector('#orderForm');
        orderForm.addEventListener('submit', (e) => {
            e.preventDefault();
            alert(`Thank you for your order of ${productName}. We will contact you shortly to confirm your order details.`);
            overlay.classList.add('fade-out');
            setTimeout(() => {
                overlay.classList.remove('active', 'fade-out');
            }, 300);
        });
    }
</script>

<script src="js/menu-toggle.js"></script>
</body>
</html>